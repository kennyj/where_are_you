<style type="text/css">
html { height: 100% }
body { height: 100%; margin: 0px; padding: 0px }
#map { width: 100%; height: 100% }
</style>
<script type="text/javascript"
        src="http://maps.google.com/maps/api/js?sensor=false">
</script>
<script type="text/javascript">
$(document).ready(function() {
  var options = {
    zoom:      2,
    center:    new google.maps.LatLng(20.0, 0.0),
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map($("#map").get(0), options);
  $.ajax({
    type: "GET",
    url:  location + ".json",
    data: {},
    success: function(data) {
      $(data).each(function(index, person) {
        title = person.name + " from \"" + person.location + "\""
        pos  = new google.maps.LatLng(person.lat, person.lng);
        icon = new google.maps.MarkerImage(
          person.avatar_url, null, null, null, new google.maps.Size(32, 32)
        );
        marker = new google.maps.Marker({
          title:    title,
          position: pos,
          map:      map,
          icon:     icon,
          zIndex:   -1 * index
        });
      });
    },
    failure: function(data) {
      alert(data);
    }
  });
});
</script>
<div id="map"></div>
